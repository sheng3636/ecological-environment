<template>
  <div class="bodyMain">
    <nav class="navTopArea">
      <div class="navLeft">
        <img src="@/assets/images/nav/logo.png">
        <span v-show="routerActive === 1">{{this.$route.query.cityName}}人口总量分析</span>
        <span v-show="routerActive === 2">{{this.$route.query.cityName}}人口结构分析</span>
        <span v-show="routerActive === 3">{{this.$route.query.cityName}}人口分布分析</span>
        <span v-show="routerActive === 4">{{this.$route.query.cityName}}人口迁移分析</span>
        <span v-show="routerActive === 5">{{this.$route.query.cityName}}人口联系分析</span>
      </div>
      <ul class="navRight">
        <li :class="{navActive:routerActive === 1}" @click="routerFn(1)">
          <el-tooltip class="item" effect="dark" content="人口总量分析" placement="top">
            <div>
              <img src="@/assets/images/peopleAnalyze/nav/navTopIcon1.png">
              <span v-if="routerActive === 1">人口总量</span>
            </div>
          </el-tooltip>
        </li>
        <li :class="{navActive:routerActive === 2}" @click="routerFn(2)">
          <el-tooltip class="item" effect="dark" content="人口结构分析" placement="top">
            <div>
              <img src="@/assets/images/peopleAnalyze/nav/navTopIcon2.png">
              <span v-if="routerActive === 2">人口结构</span>
            </div>
          </el-tooltip>
        </li>
        <li :class="{navActive:routerActive === 3}" @click="routerFn(3)">
          <el-tooltip class="item" effect="dark" content="人口分布分析" placement="top">
            <div>
              <img src="@/assets/images/peopleAnalyze/nav/navTopIcon3.png">
              <span v-if="routerActive === 3">人口分布</span>
            </div>
          </el-tooltip>
        </li>
        <li :class="{navActive:routerActive === 4}" @click="routerFn(4)">
          <el-tooltip class="item" effect="dark" content="人口迁移分析" placement="top">
            <div>
              <img src="@/assets/images/peopleAnalyze/nav/navTopIcon4.png">
              <span v-if="routerActive === 4">人口迁移</span>
            </div>
          </el-tooltip>
        </li>
        <li :class="{navActive:routerActive === 5}" @click="routerFn(5)">
          <el-tooltip class="item" effect="dark" content="人口联系分析" placement="top">
            <div>
              <img src="@/assets/images/peopleAnalyze/nav/navTopIcon5.png">
              <span v-if="routerActive === 5">人口联系</span>
            </div>
          </el-tooltip>
        </li>
        <li @click="downloadDoc">
          <el-tooltip class="item" effect="dark" content="导出文档" placement="top">
            <div>
              <img src="@/assets/images/nav/navTopIcon5.png">
            </div>
          </el-tooltip>
        </li>
        <li @click="feedbackClick">
          <el-tooltip class="item" effect="dark" content="意见反馈" placement="top">
            <div>
              <img src="@/assets/images/feedbackIcon.png">
            </div>
          </el-tooltip>
        </li>
        <li @click="junpLink('http://118.190.204.249:8989/aiPage?tag=home&cityName=' + cityName)">
          <el-tooltip class="item" effect="dark" content="回到总览" placement="top">
            <div>
              <img src="@/assets/images/nav/navTopIcon6.png">
            </div>
          </el-tooltip>
        </li>
        <li @click="junpLink('http://118.190.204.249:8989/aiPage')">
          <el-tooltip class="item" effect="dark" content="回到首页" placement="top">
            <div>
              <img src="@/assets/images/nav/navTopIcon7.png">
            </div>
          </el-tooltip>
        </li>
      </ul>
    </nav>
    <div class="bottomMain">
      <div class="mainWrap" v-show="routerActive === 1">
        <div class="CuttingLine">
          <p class="txtWrap">
            <img src="@/assets/images/cuttingLine1.png">
            <span class="txt">人口总量分析</span>
            <img src="@/assets/images/cuttingLine2.png">
          </p>
        </div>
        <div class="sideItem width1020 sideItem1_0">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_0.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_0',chartArr.sideItem1_0.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_0',['bar','bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_0',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width1020" id="sideItem1_0"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_0.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_0.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width800 sideItem1_1">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_1.title}}</span>
            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem1_1',chartArr.sideItem1_1.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width800" id="sideItem1_1"></div>
          <el-tooltip class="item" effect="dark" placement="top">
            <div slot="content">常驻人口定义：基于浙江省中国移动手机信令数据，以30天为窗口，每天滚动计算一次，<br />若职住模型识别的居住地连续6个月属于同一个地市/县（市，区）
              ，<br />则判断此人为该地市/县（市，区）的常驻人口，否则为流动人口。</div>
            <span class="peopleTip">常驻人口</span>
          </el-tooltip>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_1.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_1.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_2">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_2.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_2',chartArr.sideItem1_2.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_2',['bar','bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_2',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_2"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_2.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_2.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_3">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_3.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_3',chartArr.sideItem1_3.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_3',['bar','bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_3',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_3"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_3.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_3.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_4">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_4.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_4',chartArr.sideItem1_4.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_4',['bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_4',['line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_4"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_4.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_4.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_5">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_5.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_5',chartArr.sideItem1_5.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_5',['bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_5',['line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_5"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_5.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_5.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_6">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_6.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_6',chartArr.sideItem1_6.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_6',['bar','line'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon1.png">
                    <span class="txt">柱状+折线样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_6',['bar','bar'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_6',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_6"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_6.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_6.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem1_7">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_7.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_7',chartArr.sideItem1_7.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_7',['bar','line'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon1.png">
                    <span class="txt">柱状+折线样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_7',['bar','bar'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_7',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem1_7"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_7.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_7.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width1845 sideItem1_8">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem1_8.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem1_8',chartArr.sideItem1_8.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_8',['bar','line'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon1.png">
                    <span class="txt">柱状+折线样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_8',['bar','bar'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem1_8',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width1845" id="sideItem1_8"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem1_8.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem1_8.result"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="mainWrap" v-show="routerActive === 2">
        <div class="CuttingLine">
          <p class="txtWrap">
            <img src="@/assets/images/cuttingLine1.png">
            <span class="txt">人口结构分析</span>
            <img src="@/assets/images/cuttingLine2.png">
          </p>
        </div>
        <div class="twoWrap">
          <div class="sideItem width600 sideItem2_0">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_0.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_0',chartArr.sideItem2_0.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_0',['bar','bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_0',['line','line'],barLineChart)"
                      divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem2_0"></div>
            <div class="resultWrap">
              <h5>数据来源：{{chartArr.sideItem2_0.dataSource}}</h5>
              <div class="content">
                <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
                <p v-html="chartArr.sideItem2_0.result"></p>
              </div>
            </div>
          </div>
          <div class="twoWrap" style="width: 67%; border: none;">
            <div class="sideItem width600 sideItem2_1">
              <h4 class="moudleTitle">
                <span class="left">{{chartArr.sideItem2_1.title}}</span>
                <p class="optionGroup">
                  <img class="optionImg"
                    @click="imagesModalOpenFn('sideItem2_1',chartArr.sideItem2_1.title,barLineChart)"
                    src="@/assets/images/downImgIcon.png">
                  <el-dropdown @command="chartTypeClick">
                    <span class="el-dropdown-link">
                      <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                    </span>
                    <el-dropdown-menu slot="dropdown">
                      <el-dropdown-item :command="beforeHandleCommand('sideItem2_1',['bar','line'],barLineChart)">
                        <img class="chartIcon" src="@/assets/images/barLineIcon1.png">
                        <span class="txt">柱状+折线样式</span>
                      </el-dropdown-item>
                      <el-dropdown-item :command="beforeHandleCommand('sideItem2_1',['bar','bar'],barLineChart)"
                        divided>
                        <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                        <span class="txt">柱状图样式</span>
                      </el-dropdown-item>
                      <el-dropdown-item :command="beforeHandleCommand('sideItem2_1',['line','line'],barLineChart)"
                        divided>
                        <img class="chartIcon" src="@/assets/images/lineIcon.png">
                        <span class="txt">折线图样式</span>
                      </el-dropdown-item>
                    </el-dropdown-menu>
                  </el-dropdown>
                </p>
              </h4>
              <div class="sideItemChart width600" id="sideItem2_1"></div>
              <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_1.dataSource}}</h5>
            </div>
            <div class="sideItem width600 sideItem2_2">
              <h4 class="moudleTitle">
                <span class="left">{{chartArr.sideItem2_2.title}}</span>
                <p class="optionGroup">
                  <img class="optionImg"
                    @click="imagesModalOpenFn('sideItem2_2',chartArr.sideItem2_2.title,barLineChart)"
                    src="@/assets/images/downImgIcon.png">
                  <el-dropdown @command="chartTypeClick">
                    <span class="el-dropdown-link">
                      <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                    </span>
                    <el-dropdown-menu slot="dropdown">
                      <el-dropdown-item
                        :command="beforeHandleCommand('sideItem2_2',['bar','bar','bar','bar'],barLineChart)">
                        <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                        <span class="txt">柱状图样式</span>
                      </el-dropdown-item>
                      <el-dropdown-item
                        :command="beforeHandleCommand('sideItem2_2',['line','line','line','line'],barLineChart)"
                        divided>
                        <img class="chartIcon" src="@/assets/images/lineIcon.png">
                        <span class="txt">折线图样式</span>
                      </el-dropdown-item>
                    </el-dropdown-menu>
                  </el-dropdown>
                </p>
              </h4>
              <div class="sideItemChart width600" id="sideItem2_2"></div>
              <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_2.dataSource}}</h5>
            </div>
            <div class="resultWrap" style="width: 100%;">
              <div class="content">
                <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
                <p v-html="chartArr.sideItem2_1.result"></p>
              </div>
            </div>
          </div>
        </div>

        <div class="twoWrap">
          <div class="sideItem width910 sideItem2_3">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_3.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_3',chartArr.sideItem2_3.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_3',['bar','bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_3',['line','line'],barLineChart)"
                      divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_3"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_3.dataSource}}</h5>
          </div>
          <div class="sideItem width910 sideItem2_4">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_4.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_4',chartArr.sideItem2_4.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_4',['bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_4',['line'],barLineChart)" divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_4"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_4.dataSource}}</h5>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem2_3.result"></p>
            </div>
          </div>
        </div>

        <div class="twoWrap">
          <div class="sideItem width910 sideItem2_5">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_5.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_5',chartArr.sideItem2_5.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_5',['bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_5',['line'],barLineChart)" divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_5"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_5.dataSource}}</h5>
          </div>
          <div class="sideItem width910 sideItem2_6">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_6.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_6',chartArr.sideItem2_6.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_6',['bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_6',['line'],barLineChart)" divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_6"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_6.dataSource}}</h5>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem2_5.result"></p>
            </div>
          </div>
        </div>
        <div class="twoWrap">
          <div class="sideItem width910 sideItem2_7">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_7.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_7',chartArr.sideItem2_7.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_7',['bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_7',['line'],barLineChart)" divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_7"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_7.dataSource}}</h5>
          </div>
          <div class="sideItem width910 sideItem2_8">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem2_8.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem2_8',chartArr.sideItem2_8.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_8',['bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem2_8',['line'],barLineChart)" divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem2_8"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem2_8.dataSource}}</h5>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem2_7.result"></p>
            </div>
          </div>
        </div>
      </div>

      <div class="mainWrap" v-show="routerActive === 3">
        <div class="CuttingLine">
          <p class="txtWrap">
            <img src="@/assets/images/cuttingLine1.png">
            <span class="txt">人口分布分析</span>
            <img src="@/assets/images/cuttingLine2.png">
          </p>
        </div>
        <div class="sideItem width600 sideItem3_0">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem3_0.title}}</span>
            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem3_0',chartArr.sideItem3_0.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width600" id="sideItem3_0"></div>
        </div>
        <div class="sideItem width600 sideItem3_1">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem3_1.title}}</span>
            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem3_1',chartArr.sideItem3_1.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width600" id="sideItem3_1"></div>
        </div>
        <div class="sideItem width600 sideItem3_2">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem3_2.title}}</span>

            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem3_2',chartArr.sideItem3_2.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width600" id="sideItem3_2"></div>
        </div>
        <div class="sideItem width600 sideItem3_3">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem3_3.title}}</span>

            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem3_3',chartArr.sideItem3_3.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width600" id="sideItem3_3"></div>
        </div>
        <div class="sideItem width600 sideItem3_4">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem3_4.title}}</span>

            <p class="optionGroup" style="justify-content: flex-end;">
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem3_4',chartArr.sideItem3_4.title,createTimeMap)">
            </p>
          </h4>
          <div class="sideItemChart width600" id="sideItem3_4"></div>
        </div>
        <div class="sideItem width600 rightResultWrap" style="height: auto;">
          <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
          <div class="sideItemChart width600"
            style="display: flex; justify-content: center; align-items: center;height: auto;">
            <p v-html="chartArr.sideItem3_0.result"></p>
          </div>
        </div>
      </div>

      <div class="mainWrap" v-show="routerActive === 4">
        <div class="CuttingLine">
          <p class="txtWrap">
            <img src="@/assets/images/cuttingLine1.png">
            <span class="txt">人口迁移分析</span>
            <img src="@/assets/images/cuttingLine2.png">
          </p>
        </div>
        <div class="sideItem width910 sideItem4_0">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem4_0.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem4_0',chartArr.sideItem4_0.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem4_0',['bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem4_0',['line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem4_0"></div>
          <el-tooltip class="item" effect="dark" placement="top">
            <div slot="content">净流入或净允许由当年常住人口增量和自然增长人数获得，转换正数为“净流入”，负数为“净容许”。</div>
            <span class="peopleTip">人口净流入</span>
          </el-tooltip>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem4_0.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem4_0.result"></p>
            </div>
          </div>
        </div>
        <div class="sideItem width910 sideItem4_1">
          <h4 class="moudleTitle">
            <span class="left">{{chartArr.sideItem4_1.title}}</span>
            <p class="optionGroup">
              <img class="optionImg" @click="imagesModalOpenFn('sideItem4_1',chartArr.sideItem4_1.title,barLineChart)"
                src="@/assets/images/downImgIcon.png">
              <el-dropdown @command="chartTypeClick">
                <span class="el-dropdown-link">
                  <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item :command="beforeHandleCommand('sideItem4_1',['bar','bar'],barLineChart)">
                    <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                    <span class="txt">柱状图样式</span>
                  </el-dropdown-item>
                  <el-dropdown-item :command="beforeHandleCommand('sideItem4_1',['line','line'],barLineChart)" divided>
                    <img class="chartIcon" src="@/assets/images/lineIcon.png">
                    <span class="txt">折线图样式</span>
                  </el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </p>
          </h4>
          <div class="sideItemChart width910" id="sideItem4_1"></div>
          <div class="resultWrap">
            <h5>数据来源：{{chartArr.sideItem4_1.dataSource}}</h5>
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem4_1.result"></p>
            </div>
          </div>
        </div>

        <div class="twoWrap">
          <div class="sideItem width910 sideItem4_2">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem4_2.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem4_2',chartArr.sideItem4_2.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem4_2',['bar','bar','bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem4_2',['line','line','line'],barLineChart)"
                      divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem4_2"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem4_2.dataSource}}</h5>
          </div>
          <div class="sideItem width910 sideItem4_3">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem4_3.title}}</span>
              <p class="optionGroup">
                <img class="optionImg" @click="imagesModalOpenFn('sideItem4_3',chartArr.sideItem4_3.title,barLineChart)"
                  src="@/assets/images/downImgIcon.png">
                <el-dropdown @command="chartTypeClick">
                  <span class="el-dropdown-link">
                    <img class="optionImg" src="@/assets/images/echartTypeIcon.png">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item :command="beforeHandleCommand('sideItem4_3',['bar','bar','bar'],barLineChart)">
                      <img class="chartIcon" src="@/assets/images/barLineIcon.png">
                      <span class="txt">柱状图样式</span>
                    </el-dropdown-item>
                    <el-dropdown-item :command="beforeHandleCommand('sideItem4_3',['line','line','line'],barLineChart)"
                      divided>
                      <img class="chartIcon" src="@/assets/images/lineIcon.png">
                      <span class="txt">折线图样式</span>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </p>
            </h4>
            <div class="sideItemChart width910" id="sideItem4_3"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem4_3.dataSource}}</h5>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem4_2.result"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="mainWrap" v-show="routerActive === 5">
        <div class="CuttingLine">
          <p class="txtWrap">
            <img src="@/assets/images/cuttingLine1.png">
            <span class="txt">人口联系分析</span>
            <img src="@/assets/images/cuttingLine2.png">
          </p>
        </div>
        <div class="twoWrap">
          <div class="sideItem width600 sideItem5_0">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_0.title}}</span>
              <img class="optionImg" src="@/assets/images/downImgIcon.png"
                @click="imagesModalOpenFn('sideItem5_0',chartArr.sideItem5_0.title,lineintervalMap)">
            </h4>
            <div class="sideItemChart width600" id="sideItem5_0"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_0.dataSource}}</h5>
          </div>
          <div class="sideItem width600 sideItem5_1">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_1.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/downImgIcon.png"
                  @click="imagesModalOpenFn('sideItem5_1',chartArr.sideItem5_1.title,lineintervalMap)">
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem5_1"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_1.dataSource}}</h5>
          </div>
          <div class="sideItem width600 sideItem5_2">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_2.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/exportIcon.png" @click="phone1Export">
              </p>
            </h4>
            <div class="tableWrap2">
              <el-table :data="chartArr.sideItem5_2.list">
                <el-table-column prop="area" label="县（市，区）" align="center">
                </el-table-column>
                <el-table-column label="黄金周" align="center">
                  <el-table-column prop="frequency1" label="出现次数" align="center">
                  </el-table-column>
                  <el-table-column prop="number1" label="出行人数" align="center">
                  </el-table-column>

                </el-table-column>
                <el-table-column label="普通周" align="center">
                  <el-table-column prop="frequency2" label="出行次数" align="center">
                  </el-table-column>
                  <el-table-column prop="number2" label="出行人数" align="center">
                  </el-table-column>
                </el-table-column>
              </el-table>
              <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_2.dataSource}}</h5>
            </div>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem5_0.result"></p>
            </div>
          </div>
        </div>

        <div class="twoWrap">
          <div class="sideItem width600 sideItem5_3">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_3.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/downImgIcon.png"
                  @click="imagesModalOpenFn('sideItem5_3',chartArr.sideItem5_3.title,lineintervalMap)">
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem5_3"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_3.dataSource}}</h5>
          </div>
          <div class="sideItem width600 sideItem5_4">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_4.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/downImgIcon.png"
                  @click="imagesModalOpenFn('sideItem5_4',chartArr.sideItem5_4.title,lineintervalMap)">
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem5_4"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_4.dataSource}}</h5>
          </div>
          <div class="sideItem width600 sideItem5_5">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_5.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/exportIcon.png" @click="phone2Export">
              </p>
            </h4>
            <div class="tableWrap2">
              <el-table :data="chartArr.sideItem5_5.list">
                <el-table-column prop="area" label="地市" align="center">
                </el-table-column>
                <el-table-column label="黄金周" align="center">
                  <el-table-column prop="frequency1" label="出现次数" align="center">
                  </el-table-column>
                  <el-table-column prop="number1" label="出行人数" align="center">
                  </el-table-column>

                </el-table-column>
                <el-table-column label="普通周" align="center">
                  <el-table-column prop="frequency2" label="出行次数" align="center">
                  </el-table-column>
                  <el-table-column prop="number2" label="出行人数" align="center">
                  </el-table-column>
                </el-table-column>
              </el-table>
              <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_5.dataSource}}</h5>
            </div>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem5_3.result"></p>
            </div>
          </div>
        </div>

        <div class="twoWrap">
          <div class="sideItem width600 sideItem5_6">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_6.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/downImgIcon.png"
                  @click="imagesModalOpenFn('sideItem5_6',chartArr.sideItem5_6.title,lineintervalMap)">
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem5_6" style="height:700px"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_6.dataSource}}</h5>
          </div>
          <div class="sideItem width600 sideItem5_7">
            <h4 class="moudleTitle">
              <span class="left">{{chartArr.sideItem5_7.title}}</span>
              <p class="optionGroup" style="justify-content: flex-end;">
                <img class="optionImg" src="@/assets/images/downImgIcon.png"
                  @click="imagesModalOpenFn('sideItem5_7',chartArr.sideItem5_7.title,lineintervalMap)">
              </p>
            </h4>
            <div class="sideItemChart width600" id="sideItem5_7" style="height:700px"></div>
            <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_7.dataSource}}</h5>
          </div>
          <div>
            <div class="sideItem width600 sideItem5_8">
              <h4 class="moudleTitle">
                <span class="left">{{chartArr.sideItem5_8.title}}</span>
                <p class="optionGroup" style="justify-content: flex-end;">
                  <img class="optionImg" src="@/assets/images/exportIcon.png" @click="phone3Export">
                </p>
              </h4>
              <div class="tableWrap2">
                <el-table :data="chartArr.sideItem5_8.list">
                  <el-table-column prop="area" label="省份" align="center">
                  </el-table-column>
                  <el-table-column label="黄金周" align="center">
                    <el-table-column prop="frequency1" label="出现次数" align="center">
                    </el-table-column>
                    <el-table-column prop="number1" label="出行人数" align="center">
                    </el-table-column>

                  </el-table-column>
                  <el-table-column label="普通周" align="center">
                    <el-table-column prop="frequency2" label="出行次数" align="center">
                    </el-table-column>
                    <el-table-column prop="number2" label="出行人数" align="center">
                    </el-table-column>
                  </el-table-column>
                </el-table>
                <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_8.dataSource}}</h5>
              </div>
            </div>
            <div class="sideItem width600 sideItem5_9">
              <h4 class="moudleTitle">
                <span class="left">{{chartArr.sideItem5_9.title}}</span>
                <p class="optionGroup" style="justify-content: flex-end;">
                  <img class="optionImg" src="@/assets/images/exportIcon.png" @click="phone4Export">
                </p>
              </h4>
              <div class="tableWrap2">
                <el-table :data="chartArr.sideItem5_9.list">
                  <el-table-column prop="area" label="地市" align="center">
                  </el-table-column>
                  <el-table-column label="黄金周" align="center">
                    <el-table-column prop="frequency1" label="出现次数" align="center">
                    </el-table-column>
                    <el-table-column prop="number1" label="出行人数" align="center">
                    </el-table-column>

                  </el-table-column>
                  <el-table-column label="普通周" align="center">
                    <el-table-column prop="frequency2" label="出行次数" align="center">
                    </el-table-column>
                    <el-table-column prop="number2" label="出行人数" align="center">
                    </el-table-column>
                  </el-table-column>
                </el-table>
                <h5 class="dataSourceTxt">数据来源：{{chartArr.sideItem5_9.dataSource}}</h5>
              </div>
            </div>
          </div>
          <div class="resultWrap" style="width: 100%;">
            <div class="content">
              <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
              <p v-html="chartArr.sideItem5_6.result"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ul class="navBottomArea">
      <li :class="{active:routerActive === 1}" @click="routerFn(1)">
        <img v-if="routerActive === 1" class="activeImg" src="@/assets/images/nav/navBottomActiveIcon.png">
        <img v-if="routerActive === 1" src="@/assets/images/peopleAnalyze/nav/navBottomIcon1-1.png">
        <img v-if="routerActive !== 1" src="@/assets/images/peopleAnalyze/nav/navBottomIcon1.png">
        <span>人口总量分析</span>
      </li>
      <li :class="{active:routerActive === 2}" @click="routerFn(2)">
        <img v-if="routerActive === 2" class="activeImg" src="@/assets/images/nav/navBottomActiveIcon.png">
        <img v-if="routerActive === 2" src="@/assets/images/peopleAnalyze/nav/navBottomIcon2-1.png">
        <img v-if="routerActive !== 2" src="@/assets/images/peopleAnalyze/nav/navBottomIcon2.png">
        <span>人口结构分析</span>
      </li>
      <li :class="{active:routerActive === 3}" @click="routerFn(3)">
        <img v-if="routerActive === 3" class="activeImg" src="@/assets/images/nav/navBottomActiveIcon.png">
        <img v-if="routerActive === 3" src="@/assets/images/peopleAnalyze/nav/navBottomIcon3-1.png">
        <img v-if="routerActive !== 3" src="@/assets/images/peopleAnalyze/nav/navBottomIcon3.png">
        <span>人口分布分析</span>
      </li>
      <li :class="{active:routerActive === 4}" @click="routerFn(4)">
        <img v-if="routerActive === 4" class="activeImg" src="@/assets/images/nav/navBottomActiveIcon.png">
        <img v-if="routerActive === 4" src="@/assets/images/peopleAnalyze/nav/navBottomIcon4-1.png">
        <img v-if="routerActive !== 4" src="@/assets/images/peopleAnalyze/nav/navBottomIcon4.png">
        <span>人口迁移分析</span>
      </li>
      <li :class="{active:routerActive === 5}" @click="routerFn(5)">
        <img v-if="routerActive === 5" class="activeImg" src="@/assets/images/nav/navBottomActiveIcon.png">
        <img v-if="routerActive === 5" src="@/assets/images/peopleAnalyze/nav/navBottomIcon4-1.png">
        <img v-if="routerActive !== 5" src="@/assets/images/peopleAnalyze/nav/navBottomIcon5.png">
        <span>人口联系分析</span>
      </li>
    </ul>
    <el-dialog title="图片下载" :visible.sync="imagesVisi" width="60%" custom-class="imagesWrap" center
      :close-on-click-modal="false" :close-on-press-escape="false" @close="imagesModalCloseFn">
      <div class="imgModalBody">
        <span class="fourIcon" v-for="(item,index) in 4" :key="index" :class="'fourIcon' + index"></span>
        <div class="sideItemChart" id="echartsWrap1"></div>
        <div class="colorArea">
          <p>
            <span class="txt">背景颜色：</span>
            <ColorPicker v-model="chartColor.backgroundColor" alpha :colors="predefineColors"
              @on-active-change="backgroundColorChange"></ColorPicker>
          </p>
          <p>
            <span class="txt">文字颜色：</span>
            <ColorPicker v-model="chartColor.textColor" alpha :colors="predefineColors"
              @on-active-change="textColorChange"></ColorPicker>
          </p>
        </div>
      </div>
      <span slot="footer" class="dialog-footer">
        <el-button type="primary" @click="exportPic">保 存</el-button>
      </span>
    </el-dialog>
    <div class="fileLoadingModal" v-if="fullscreenLoading">
      <div class="progressWrap">
        <el-progress :text-inside="true" :stroke-width="15" :percentage="filePercentage"></el-progress>
        <span class="downTxt">文件导出中</span>
      </div>
    </div>
    <feedback :feedbackVisi="feedbackVisi" :feedForm="feedForm" @feedbackDialog="feedbackDialog"></feedback>
  </div>
</template>
<script>
import { savePic } from '@/api/api'
import mUtilsFn from '@/utils/mUtils.js'
import { finishMixin } from '@/utils/finishMixin.js'
import { peopleCountMixin } from '@/utils/peopleAnalyze/peopleCount.js'
import { structuraMixin } from '@/utils/peopleAnalyze/structura.js'
import { migrationMixin } from '@/utils/peopleAnalyze/migration.js'
import { distributionMixin } from '@/utils/peopleAnalyze/distribution.js'
import { contactMixin } from '@/utils/peopleAnalyze/contact.js'
import axios from 'axios'
// const cityName = '杭州市'
export default {
  name: 'peopleCount',
  mixins: [
    finishMixin,
    peopleCountMixin,
    structuraMixin,
    distributionMixin,
    migrationMixin,
    contactMixin
  ],
  data() {
    return {
      cityName: this.$route.query.cityName,
      routerActive: 1,
      imagesVisi: false, // 是否显示保存图片弹窗
      whichEchart: null, // 要被下载图表对象id
      imagesName: '', // 图片名称
      fnName: null,

      chartArr: {
        sideItem1_0: {
          id: 'sideItem1_0',
          picNum: 1,
          infoNum: 1,
          titleNum: 1,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00baff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#e3791b',
              yAxis: []
            }
          ]
        },
        sideItem1_1: {
          id: 'sideItem1_1',
          picNum: 2,
          infoNum: 2,
          titleNum: 2,
          title: '',
          dataSource: '',
          result: '',
          isMapDownload: true,
          listObj: {
            timeLine: true,
            province: true,
            unit: '',
            data: {}
          }
        },
        sideItem1_2: {
          id: 'sideItem1_2',
          picNum: 3,
          infoNum: 3,
          titleNum: 3,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'line',
              color: '#00c6ff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#72ff00',
              yAxis: []
            }
          ]
        },
        sideItem1_3: {
          id: 'sideItem1_3',
          picNum: 4,
          infoNum: 4,
          titleNum: 4,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'line',
              color: '#00c6ff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#72ff00',
              yAxis: []
            }
          ]
        },
        sideItem1_4: {
          id: 'sideItem1_4',
          picNum: 5,
          infoNum: 5,
          titleNum: 5,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'line',
              color: '#ff3764',
              yAxis: []
            }
          ]
        },
        sideItem1_5: {
          id: 'sideItem1_5',
          picNum: 6,
          infoNum: 6,
          titleNum: 6,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '30px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#8c0084',
              lightColor: '#ff28f2',
              yAxis: []
            }
          ]
        },
        sideItem1_6: {
          id: 'sideItem1_6',
          picNum: 7,
          infoNum: 7,
          titleNum: 7,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '30px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#007437',
              lightColor: '#ff28f2',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#fffc00',
              lightColor: '#ff28f2',
              yAxis: []
            }
          ]
        },
        sideItem1_7: {
          id: 'sideItem1_7',
          picNum: 8,
          infoNum: 8,
          titleNum: 8,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '30px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#732e00',
              lightColor: '#ff28f2',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#fffc00',
              lightColor: '#ff28f2',
              yAxis: []
            }
          ]
        },
        sideItem1_8: {
          id: 'sideItem1_8',
          picNum: 9,
          infoNum: 9,
          titleNum: 9,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#006e8a',
              lightColor: '#ff28f2',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#fffc00',
              lightColor: '#ff28f2',
              yAxis: []
            }
          ]
        },

        sideItem2_0: {
          id: 'sideItem2_0',
          picNum: 10,
          infoNum: 10,
          titleNum: 10,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'line',
              color: '#00ffff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#fefb00',
              yAxis: []
            }
          ]
        },
        sideItem2_1: {
          id: 'sideItem2_1',
          picNum: 11,
          infoNum: 11,
          titleNum: 11,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '25px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00ff78',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#ff00f6',
              yAxis: []
            }
          ]
        },
        sideItem2_2: {
          id: 'sideItem2_2',
          picNum: 12,
          titleNum: 12,
          title: '',
          dataSource: '',
          xAxis: [],
          barWidth: '40px',
          stack: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#ef822b',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#55aeca',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#2b6cef',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#dabe00',
              yAxis: []
            }
          ]
        },
        sideItem2_3: {
          id: 'sideItem2_3',
          picNum: 13,
          infoNum: 12,
          titleNum: 13,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#2b6cef',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#f6ff00',
              yAxis: []
            }
          ]
        },
        sideItem2_4: {
          id: 'sideItem2_4',
          picNum: 14,
          titleNum: 14,
          title: '',
          dataSource: '',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#83007b',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#f6ff00',
              yAxis: []
            }
          ]
        },
        sideItem2_5: {
          id: 'sideItem2_5',
          picNum: 15,
          infoNum: 13,
          titleNum: 15,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#006e8a',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#f6ff00',
              yAxis: []
            }
          ]
        },
        sideItem2_6: {
          id: 'sideItem2_6',
          picNum: 16,
          titleNum: 16,
          title: '',
          dataSource: '',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#fe9500',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#ff00b4',
              yAxis: []
            }
          ]
        },
        sideItem2_7: {
          id: 'sideItem2_7',
          picNum: 17,
          infoNum: 14,
          titleNum: 17,
          title: '',
          dataSource: '',
          result: 'sideItem2_7',
          xAxis: [],
          barWidth: '40px',
          doubleYxis: true,
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00ffb4',
              yAxis: []
            },
            {
              name: '',
              chartType: 'line',
              color: '#e3791b',
              yAxis: []
            }
          ]
        },
        sideItem2_8: {
          id: 'sideItem2_8',
          picNum: 18,
          titleNum: 18,
          title: '',
          dataSource: '',
          xAxis: [],
          barWidth: '40px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#e4007f',
              yAxis: []
            }
          ]
        },

        sideItem3_0: {
          id: 'sideItem3_0',
          picNum: 19,
          infoNum: 15,
          titleNum: 19,
          title: '',
          dataSource: '',
          result: '',
          isMapDownload: true,
          listObj: {
            unit: '',
            data: {}
          }
        },
        sideItem3_1: {
          id: 'sideItem3_1',
          picNum: 20,
          titleNum: 20,
          title: '',
          dataSource: '',
          isMapDownload: true,
          listObj: {
            unit: '单位：万人',
            data: {}
          }
        },
        sideItem3_2: {
          id: 'sideItem3_2',
          picNum: 21,
          titleNum: 21,
          title: '',
          dataSource: '',
          isMapDownload: true,
          listObj: {
            unit: '单位：万人',
            data: {}
          }
        },
        sideItem3_3: {
          id: 'sideItem3_3',
          picNum: 22,
          titleNum: 22,
          title: '',
          dataSource: '',
          isMapDownload: true,
          listObj: {
            unit: '单位：万人',
            data: {}
          }
        },
        sideItem3_4: {
          id: 'sideItem3_4',
          picNum: 23,
          titleNum: 23,
          title: '',
          dataSource: '',
          isMapDownload: true,
          listObj: {
            unit: '单位：万人',
            data: {}
          }
        },

        sideItem4_0: {
          id: 'sideItem4_0',
          picNum: 24,
          infoNum: 16,
          titleNum: 24,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '30px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#006a91',
              yAxis: []
            }
          ]
        },
        sideItem4_1: {
          id: 'sideItem4_1',
          picNum: 25,
          infoNum: 17,
          titleNum: 25,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '30px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00ff7e',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#ffb400',
              yAxis: []
            }
          ]
        },
        sideItem4_2: {
          id: 'sideItem4_2',
          picNum: 26,
          infoNum: 18,
          titleNum: 26,
          title: '',
          dataSource: '',
          result: '',
          xAxis: [],
          barWidth: '20px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00b4ff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#e56af7',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#00ff7e',
              yAxis: []
            }
          ]
        },
        sideItem4_3: {
          id: 'sideItem4_3',
          picNum: 27,
          titleNum: 27,
          title: '',
          dataSource: '',
          xAxis: [],
          barWidth: '20px',
          chartArr: [
            {
              name: '',
              chartType: 'bar',
              color: '#00b4ff',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#e56af7',
              yAxis: []
            },
            {
              name: '',
              chartType: 'bar',
              color: '#00ff7e',
              yAxis: []
            }
          ]
        },

        sideItem5_0: {
          id: 'sideItem5_0',
          picNum: 28,
          infoNum: 19,
          titleNum: 28,
          title: '2018年手机信令台州市黄金周人口联系',
          dataSource: '移动手机信令数据',
          result: '',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 1,
              type: 1
            },
            result: {},
            interval: null,
            curCity: this.$route.query.cityName,
            no: 'no28'
          }
        },
        sideItem5_1: {
          id: 'sideItem5_1',
          picNum: 29,
          titleNum: 29,
          title: '2018年手机信令台州市普通周人口联系',
          dataSource: '移动手机信令数据',
          result: '',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 2,
              type: 1
            },
            result: {},
            interval: null,
            curCity: this.$route.query.cityName,
            no: 'no29'
          }
        },
        sideItem5_2: {
          id: 'sideItem5_2',
          picHidden: true,
          titleNum: 30,
          tableNum: 1,
          title: '2018年基于手机信令数据的台州市人口联系市内联系表格',
          dataSource: '移动手机信令数据',
          list: []
        },
        sideItem5_3: {
          id: 'sideItem5_3',
          picNum: 30,
          infoNum: 20,
          titleNum: 31,
          title: '2018年移动电话信令台州市与全省各区域间黄金周人口联系',
          dataSource: '移动手机信令数据',
          result: '',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 1,
              type: 2
            },
            result: {},
            interval: null,
            curCity: '浙江省',
            no: 'no30'
          }
        },
        sideItem5_4: {
          id: 'sideItem5_4',
          picNum: 31,
          titleNum: 32,
          title: '2018年移动手机信令台州市与全省各区域间普通周人口联系',
          dataSource: '移动手机信令数据',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 2,
              type: 2
            },
            result: {},
            interval: null,
            curCity: '浙江省',
            no: 'no31'
          }
        },
        sideItem5_5: {
          id: 'sideItem5_5',
          picHidden: true,
          titleNum: 33,
          tableNum: 2,
          title:
            '2018年基于手机信令数据的各地市与台州市人口联系汇总占比表（％）',
          dataSource: '移动手机信令数据',
          list: []
        },
        sideItem5_6: {
          id: 'sideItem5_6',
          picNum: 32,
          infoNum: 21,
          titleNum: 34,
          title: '2018年联通手机信令台州市与长三角黄金周人口联系',
          dataSource: '联通手机信令数据',
          result: '',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 1,
              type: 3
            },
            result: {},
            interval: null,
            curCity: '长三角',
            no: 'no32'
          }
        },
        sideItem5_7: {
          id: 'sideItem5_7',
          picNum: 33,
          titleNum: 35,
          title: '2018年联通手机信令台州市与长三角普通周人口联系',
          dataSource: '联通手机信令数据',
          isFlowMap: true,
          configObj: {
            chart: null,
            url: '/statistics/getFlowDirectionData',
            params: {
              year: 2018,
              area: this.$route.query.cityName,
              week: 2,
              type: 3
            },
            result: {},
            interval: null,
            curCity: '长三角',
            no: 'no33'
          }
        },
        sideItem5_8: {
          id: 'sideItem5_8',
          picHidden: true,
          titleNum: 36,
          tableNum: 3,
          title:
            '2018年基于联通手机信令数据的长三角各地区（除浙江省外TOP5）与台州市人口联系汇总占比表（％）',
          dataSource: '联通手机信令数据',
          list: []
        },
        sideItem5_9: {
          id: 'sideItem5_9',
          picHidden: true,
          titleNum: 37,
          tableNum: 4,
          title:
            '2018年基于联通手机信令数据的长三角各地区（除浙江省外TOP5）与台州市人口联系汇总占比表（％）',
          dataSource: '联通手机信令数据',
          list: []
        }
      }
    }
  },
  created() {},
  mounted() {},
  methods: {
    initQualityChart(color) {
      this.chartColor.textColor = color
      this.barLineChart('sideItem1_0', this.chartArr.sideItem1_0)
      this.createTimeMap('sideItem1_1', this.chartArr.sideItem1_1.listObj)
      this.barLineChart('sideItem1_2', this.chartArr.sideItem1_2)
      this.barLineChart('sideItem1_3', this.chartArr.sideItem1_3)
      this.barLineChart('sideItem1_4', this.chartArr.sideItem1_4)
      this.barLineChart('sideItem1_5', this.chartArr.sideItem1_5)
      this.barLineChart('sideItem1_6', this.chartArr.sideItem1_6)
      this.barLineChart('sideItem1_7', this.chartArr.sideItem1_7)
      this.barLineChart('sideItem1_8', this.chartArr.sideItem1_8)

      this.barLineChart('sideItem2_0', this.chartArr.sideItem2_0)
      this.barLineChart('sideItem2_1', this.chartArr.sideItem2_1)
      this.barLineChart('sideItem2_2', this.chartArr.sideItem2_2)
      this.barLineChart('sideItem2_3', this.chartArr.sideItem2_3)
      this.barLineChart('sideItem2_4', this.chartArr.sideItem2_4)
      this.barLineChart('sideItem2_5', this.chartArr.sideItem2_5)
      this.barLineChart('sideItem2_6', this.chartArr.sideItem2_6)
      this.barLineChart('sideItem2_7', this.chartArr.sideItem2_7)
      this.barLineChart('sideItem2_8', this.chartArr.sideItem2_8)

      this.createTimeMap('sideItem3_0', this.chartArr.sideItem3_0.listObj)
      this.createTimeMap('sideItem3_1', this.chartArr.sideItem3_1.listObj)
      this.createTimeMap('sideItem3_2', this.chartArr.sideItem3_2.listObj)
      this.createTimeMap('sideItem3_3', this.chartArr.sideItem3_3.listObj)
      this.createTimeMap('sideItem3_4', this.chartArr.sideItem3_4.listObj)

      this.barLineChart('sideItem4_0', this.chartArr.sideItem4_0)
      this.barLineChart('sideItem4_1', this.chartArr.sideItem4_1)
      this.barLineChart('sideItem4_2', this.chartArr.sideItem4_2)
      this.barLineChart('sideItem4_3', this.chartArr.sideItem4_3)

      this.lineintervalMap('sideItem5_0', 'sideItem5_0')
      this.lineintervalMap('sideItem5_1', 'sideItem5_1')
      this.lineintervalMap('sideItem5_3', 'sideItem5_3')
      this.lineintervalMap('sideItem5_4', 'sideItem5_4')
      this.lineintervalMap('sideItem5_6', 'sideItem5_6')
      this.lineintervalMap('sideItem5_7', 'sideItem5_7')
    },
    // 颜色选择器背景颜色值发生变化
    backgroundColorChange(color) {
      this.chartColor.backgroundColor = color
      if (this.chartArr[this.whichEchart].isMapDownload) {
        this.$nextTick(() => {
          this.fnName('echartsWrap1', this.chartArr[this.whichEchart].listObj)
        })
      } else if (this.chartArr[this.whichEchart].isFlowMap) {
        this.fnName('echartsWrap1', this.whichEchart)
      } else {
        this.fnName('echartsWrap1', this.chartArr[this.whichEchart])
      }
    },
    // 颜色选择器文字颜色值发生变化
    textColorChange(color) {
      this.chartColor.textColor = color
      if (this.chartArr[this.whichEchart].isMapDownload) {
        this.$nextTick(() => {
          this.fnName('echartsWrap1', this.chartArr[this.whichEchart].listObj)
        })
      } else if (this.chartArr[this.whichEchart].isFlowMap) {
        this.fnName('echartsWrap1', this.whichEchart)
      } else {
        this.fnName('echartsWrap1', this.chartArr[this.whichEchart])
      }
    },
    // 将图表转换成图片并下载
    exportPic() {
      let chart = this.$echarts.init(document.getElementById('echartsWrap1'))
      let content = chart.getDataURL()
      let aLink = document.createElement('a')
      let blob = mUtilsFn.base64ToBlob(content)
      let evt = document.createEvent('HTMLEvents')
      evt.initEvent('click', true, true)
      aLink.download = `${this.imagesName}${this.returnDatetime()}.png`
      aLink.href = URL.createObjectURL(blob)
      aLink.dispatchEvent(
        new MouseEvent('click', {
          bubbles: true,
          cancelable: true,
          view: window
        })
      )

      this.imagesModalCloseFn()
    },
    // 图表柱状图折线图转换
    chartTypeClick(command) {
      this.chartArr[command.id].chartType = command.type
      command.fnName(command.id, this.chartArr[command.id])
    },
    // 下载文档
    downloadDoc() {
      let _self = this
      _self.initQualityChart('#000')
      _self.fullscreenLoading = true
      let baseURlArr = []
      let infoArr = []
      let picArrIndex = 0
      let picArrFn = []

      setTimeout(function() {
        for (let key in _self.chartArr) {
          if (!_self.chartArr[key].picHidden) {
            let chart = _self.$echarts.init(
              document.getElementById(_self.chartArr[key].id)
            )
            baseURlArr[key] = chart.getDataURL()
            picArrFn[picArrIndex] = savePic({
              picInfo: baseURlArr[key],
              no: 'no' + _self.chartArr[key].picNum,
              type: 'people-city',
              area: _self.cityName
            }).then(res => {})
            picArrIndex++
          }
          infoArr.push(
            {
              name: 'title' + _self.chartArr[key].titleNum,
              value: _self.chartArr[key].title
            },
            {
              name: 'verdict' + _self.chartArr[key].infoNum,
              value: _self.chartArr[key].result
            },
            {
              name: 'source' + _self.chartArr[key].titleNum,
              value: _self.chartArr[key].dataSource
            },
            {
              name: 'table' + _self.chartArr[key].tableNum,
              value: _self.chartArr[key].list
            }
          )
        }
        let aa = infoArr.filter(item => {
          return  item.value
        })

        axios.all(picArrFn).then(
          axios.spread(() => {
            axios({
              url: _self.baseUrl + '/section/exportWord',
              method: 'post',
              data: {
                area: _self.cityName,
                type: 'people-city',
                condition: JSON.stringify(aa)
              },
              responseType: 'blob',
              onDownloadProgress(progress) {
                _self.filePercentage = Math.round(
                  (progress.loaded / progress.total) * 100
                )
              }
            }).then(res => {
              // new Blob([data])用来创建URL的file对象或者blob对象
              let url = window.URL.createObjectURL(new Blob([res.data]))
              let link = document.createElement('a') // 生成一个a标签
              link.style.display = 'none'
              link.href = url
              let fileName = `${
                _self.cityName
              }人口分析报告${_self.returnDatetime()}`
              link.download = fileName + '.docx'
              document.body.appendChild(link)
              setTimeout(function() {
                link.click()
                _self.initQualityChart('#fff')
                _self.filePercentage = 0
                _self.fullscreenLoading = false
              }, 1000)
            })
          })
        )
      }, 1500)
    },
    // 打开保存图片弹窗并渲染图表
    imagesModalOpenFn(val, imagesName, fnName) {
      this.chartColor.backgroundColor = 'rgba(0,0,0,0)'
      this.chartColor.textColor = '#fff'
      this.imagesName = imagesName
      this.whichEchart = val
      this.imagesVisi = true
      this.fnName = fnName

      if (this.chartArr[val].isMapDownload) {
        this.$nextTick(() => {
          this.fnName('echartsWrap1', this.chartArr[val].listObj)
        })
      } else if (this.chartArr[this.whichEchart].isFlowMap) {
        this.$nextTick(() => {
          this.fnName('echartsWrap1', val)
        })
      } else {
        this.$nextTick(() => {
          fnName('echartsWrap1', this.chartArr[val])
        })
      }
    },
    // 关闭保存图片弹窗
    imagesModalCloseFn() {
      this.chartColor.backgroundColor = 'rgba(0,0,0,0)'
      this.chartColor.textColor = '#fff'
      this.imagesVisi = false
    },
    // 对command参数进行重新封装成一个对象
    beforeHandleCommand(command1, command2, command3) {
      return {
        id: command1,
        type: command2,
        fnName: command3
      }
    },
    // 图表柱状图折线图转换
    chartTypeClick(command) {
      for (let i = 0; i < command.type.length; i++) {
        this.chartArr[command.id].chartArr[i].chartType = command.type[i]
      }
      command.fnName(command.id, this.chartArr[command.id])
    }
  }
}
</script>
<style lang="scss" scoped>
@import './peopleCount.scss';
.sideItem .light {
  color: #e09e00;
}
</style>
